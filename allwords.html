<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Words</title>
    <link rel="icon" type="image/png" href="https://i.imgur.com/bXLOd2j.png">	
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        html {
            overflow-y: scroll;
        }
        .pattern-container {
            position: relative;
        }
        .pattern-container::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50px;
            height: 100%;
            background-image: url('https://www.transparenttextures.com/patterns/diagonal-striped-brick.png');
            background-repeat: repeat-y;
            opacity: 0.3;
            z-index: 0;
        }
        .content {
            position: relative;
            z-index: 1;
        }
        .tab-active {
            background-color: #2563eb;
            color: white;
        }
        .header-container {
            position: sticky;
            top: 0;
            z-index: 20;
            background-color: #2563eb;
            width: 100%;
        }
        .nav-container {
            position: sticky;
            top: 64px;
            z-index: 10;
            background-color: white;
            width: 100%;
            box-sizing: border-box;
        }
        body {
            padding-right: var(--scrollbar-width, 0px);
            box-sizing: border-box;
        }
        main {
            padding-top: calc(64px + 56px + 24px);
            padding-left: 1.5rem;
            padding-right: 1.5rem;
            padding-bottom: 1.5rem;
        }
        #overview-section {
            margin-top: 1.5rem;
        }
        .flashcard {
            perspective: 1000px;
            width: 300px;
            height: 400px;
        }
        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .flashcard-back {
            transform: rotateY(180deg);
        }
        .settings-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            z-index: 100;
            max-width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .settings-panel.active {
            opacity: 1;
            visibility: visible;
        }
        .settings-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 99;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .settings-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .close-settings {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            font-size: 1.5rem;
            color: #666;
        }
        .settings-icon {
            position: fixed;
            top: 20px;
            left: 20px;
            cursor: pointer;
            color: white;
            font-size: 1.5rem;
            z-index: 21;
            background-color: rgba(0,0,0,0.2);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        .settings-icon:hover {
            background-color: rgba(0,0,0,0.3);
            transform: scale(1.1);
        }
        #test-word {
            min-height: 3rem;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div class="min-h-screen bg-gradient-to-b from-blue-50 to-gray-100 flex flex-col pattern-container">
        <div class="settings-icon" id="settings-icon">⚙️</div>
        <header class="header-container bg-blue-600 text-white p-4 shadow-lg">
            <div class="max-w-md mx-auto">
                <h1 class="text-3xl font-bold text-center">All Words - Aral Püsses</h1>
            </div>
        </header>
        <nav class="nav-container shadow-md p-2">
            <div class="flex justify-between max-w-md mx-auto">
                <button id="overview-tab" class="tab-active px-4 py-2 text-sm font-semibold rounded hover:bg-blue-500 hover:text-white transition flex-1 text-center">Overview</button>
                <button id="flashcards-tab" class="px-4 py-2 text-sm font-semibold rounded hover:bg-blue-500 hover:text-white transition flex-1 text-center">Flash Cards</button>
                <button id="test-tab" class="px-4 py-2 text-sm font-semibold rounded hover:bg-blue-500 hover:text-white transition flex-1 text-center">Test Yourself</button>
            </div>
        </nav>
        <main class="container mx-auto p-6 content flex-1">
            <section id="overview-section" class="grid grid-cols-1 gap-12 max-w-md mx-auto">
                <div class="mb-4">
                    <label class="inline-flex items-center mr-4">
                        <input type="radio" name="overview-sort" value="english" checked class="mr-2">
                        <span>Sort by English</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="overview-sort" value="ulgarienef" class="mr-2">
                        <span>Sort by Ulgarienef</span>
                    </label>
                </div>
            </section>
            <section id="flashcards-section" class="hidden flex flex-col items-center max-w-md mx-auto">
                <div class="mb-4">
                    <label class="inline-flex items-center mr-4">
                        <input type="radio" name="flashcard-mode" value="random" checked class="mr-2">
                        <span>Random</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="flashcard-mode" value="alphabetical" class="mr-2">
                        <span>Alphabetical</span>
                    </label>
                </div>
                <div class="flashcard" id="flashcard-container">
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <img id="flashcard-image" src="" alt="Vocabulary" class="w-48 h-48 object-cover rounded mb-4">
                            <h2 class="text-xl font-semibold text-gray-800" id="flashcard-word"></h2>
                        </div>
                        <div class="flashcard-back">
                            <h2 class="text-xl font-semibold text-gray-800 mb-4" id="flashcard-translation"></h2>
                            <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition" id="next-flashcard">Next Card</button>
                        </div>
                    </div>
                </div>
            </section>
            <section id="test-section" class="hidden flex flex-col items-center max-w-md mx-auto">
                <div class="bg-white rounded-lg shadow-md p-6 w-full">
                    <img id="test-image" src="" alt="Vocabulary" class="w-48 h-48 object-cover rounded mb-4 mx-auto">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 text-center" id="test-word"></h2>
                    <input id="test-input" type="text" placeholder="Enter Ulgarienef translation" class="border border-gray-300 rounded p-2 mb-4 w-full">
                    <div class="flex justify-between">
                        <button id="test-submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition">Submit</button>
                        <button id="skip-test" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition">Skip</button>
                    </div>
                    <p id="test-feedback" class="text-lg mt-4 text-center"></p>
                </div>
                <div class="mt-4 text-center">
                    <p id="test-progress" class="text-gray-600"></p>
                </div>
            </section>
        </main>
    </div>
    
    <!-- Settings Panel -->
    <div class="settings-overlay" id="settings-overlay"></div>
    <div class="settings-panel" id="settings-panel">
        <span class="close-settings" id="close-settings">×</span>
        <h2 class="text-xl font-bold mb-4">Select Topics</h2>
        <div id="topics-list" class="grid grid-cols-1 gap-2">
            <!-- Topics will be added here dynamically -->
        </div>
    </div>

    <script>
        // Vocabulary data organized by topics
        const vocabularyData = {
            "Animals": [
                { word: "Monkey", translation: "Gnisus", testTranslations: ["Gnisus"], image: "https://i.imgur.com/3iLi1eh.png", link: "https://example.com/monkey" },
                { word: "Alpaka", translation: "Al Aboc", testTranslations: ["Al Aboc"], image: "https://i.imgur.com/agGh5eh.png", link: "https://example.com/dog" },
                { word: "Polar Bear", translation: "Eisata", testTranslations: ["Eisata"], image: "https://i.imgur.com/5GbXrOr.png", link: "https://example.com/elephant" },
                { word: "Brown Bear", translation: "Bralata", testTranslations: ["Bralata"], image: "https://i.imgur.com/HiRxSt9.png", link: "https://example.com/lion" },
                { word: "Beaver", translation: "Castor", testTranslations: ["Castor"], image: "https://i.imgur.com/R0oe4rm.png", link: "https://example.com/lion" },
                { word: "Chameleon", translation: "Tentum", testTranslations: ["Tentum"], image: "https://i.imgur.com/FaLXAMx.png", link: "https://example.com/lion" },
                { word: "Dolphin", translation: "Ulde", testTranslations: ["Ulde"], image: "https://i.imgur.com/xv5qBci.png", link: "https://example.com/monkey" },
                { word: "Lizard", translation: "Polto", testTranslations: ["Polto"], image: "https://i.imgur.com/RbWebzM.png", link: "https://example.com/dog" },
                { word: "Donkey", translation: "Darkat", testTranslations: ["Darkat"], image: "https://i.imgur.com/C8cqOed.png", link: "https://example.com/elephant" },
                { word: "Squirrel", translation: "Gobosoo", testTranslations: ["Gobosoo"], image: "https://i.imgur.com/CGfZ0dL.png", link: "https://example.com/lion" },
                { word: "Elephant", translation: "Nölk", testTranslations: ["Nölk"], image: "https://i.imgur.com/6HZOH62.png", link: "https://example.com/lion" },
                { word: "Moose", translation: "Krotus", testTranslations: ["Krotus"], image: "https://i.imgur.com/TQGqUdw.png", link: "https://example.com/lion" },
                { word: "Fly", translation: "Dei", testTranslations: ["Dei"], image: "https://i.imgur.com/jePbBkC.png", link: "https://example.com/monkey" },
                { word: "Bat", translation: "Mortis", testTranslations: ["Mortis"], image: "https://i.imgur.com/jHL2dOp.png", link: "https://example.com/dog" },
                { word: "Fish", translation: "Fisk", testTranslations: ["Fisk"], image: "https://i.imgur.com/njceXcm.png", link: "https://example.com/elephant" },
                { word: "Flamingo", translation: "Tismu", testTranslations: ["Tismu"], image: "https://i.imgur.com/U1YZCRS.png", link: "https://example.com/lion" },
                { word: "Fox", translation: "Fux", testTranslations: ["Fux"], image: "https://i.imgur.com/s7Yr0PJ.png", link: "https://example.com/lion" },
                { word: "Goose", translation: "Hanni", testTranslations: ["Hanni"], image: "https://i.imgur.com/xkTapjG.png", link: "https://example.com/lion" },
                { word: "Dog", translation: "Tschikk", testTranslations: ["Tschikk"], image: "https://i.imgur.com/2mIalaC.png", link: "https://example.com/dog" },
                { word: "Rabbit", translation: "Nusi", testTranslations: ["Nusi"], image: "https://i.imgur.com/SGNsw9Q.png", link: "https://example.com/elephant" },
                { word: "Shark", translation: "Mert", testTranslations: ["Mert"], image: "https://i.imgur.com/YUETl1l.png", link: "https://example.com/lion" },
                { word: "Stag", translation: "Stagof", testTranslations: ["Stagof"], image: "https://i.imgur.com/SaulDxd.png", link: "https://example.com/lion" },
                { word: "Hedgehog", translation: "Urnegge", testTranslations: ["Urnegge"], image: "https://i.imgur.com/UOk0MK6.png", link: "https://example.com/lion" },
                { word: "Crocodile", translation: "Kovarat", testTranslations: ["Kovarat"], image: "https://i.imgur.com/Ki286oU.png", link: "https://example.com/dog" },
                { word: "Ant", translation: "Liki", testTranslations: ["Liki"], image: "https://i.imgur.com/Hekvb6u.png", link: "https://example.com/elephant" },
                { word: "Cat", translation: "Gambel", testTranslations: ["Gambel"], image: "https://i.imgur.com/3LKqONU.png", link: "https://example.com/lion" },
                { word: "Cow", translation: "Gombe", testTranslations: ["Gombe"], image: "https://i.imgur.com/DAzov45.png", link: "https://example.com/lion" },
                { word: "Kangaroo", translation: "Wiid", testTranslations: ["Wiid"], image: "https://i.imgur.com/rgFpHUf.png", link: "https://example.com/lion" },
                { word: "Koala", translation: "Sung Regi", testTranslations: ["Sung Regi"], image: "https://i.imgur.com/eTqUsHE.png", link: "https://example.com/lion" },
                { word: "Camel", translation: "Berk", testTranslations: ["Berk"], image: "https://i.imgur.com/NPE8vUm.png", link: "https://example.com/lion" },
                { word: "Llama", translation: "Al Pütt", testTranslations: ["Al Pütt"], image: "https://i.imgur.com/rL2qT5w.png", link: "https://example.com/dog" },
                { word: "Lion", translation: "Güg", testTranslations: ["Güg"], image: "https://i.imgur.com/qCoclEU.png", link: "https://example.com/elephant" },
                { word: "Chicken", translation: "Mortes", testTranslations: ["Mortes"], image: "https://i.imgur.com/gX5xWjf.png", link: "https://example.com/lion" },
                { word: "Duck", translation: "Bikk", testTranslations: ["Bikk"], image: "https://i.imgur.com/gEyALa1.png", link: "https://example.com/lion" },
                { word: "Mouse", translation: "Griff", testTranslations: ["Griff"], image: "https://i.imgur.com/BWDqATx.png", link: "https://example.com/lion" },
                { word: "Ladybug", translation: "Labarb", testTranslations: ["Labarb"], image: "https://i.imgur.com/PAgDtcp.png", link: "https://example.com/monkey" },
                { word: "Mole", translation: "Möllerus", testTranslations: ["Möllerus"], image: "https://i.imgur.com/oKQFiQy.png", link: "https://example.com/dog" },
                { word: "Hippo", translation: "Telogombe", testTranslations: ["Telogombe"], image: "https://i.imgur.com/7yfkLiH.png", link: "https://example.com/elephant" },
                { word: "Rhino", translation: "Oldar", testTranslations: ["Oldar"], image: "https://i.imgur.com/2sqom0z.png", link: "https://example.com/lion" },
                { word: "Otter", translation: "Garton", testTranslations: ["Garton"], image: "https://i.imgur.com/pIWDaeS.png", link: "https://example.com/lion" },
                { word: "Penguin", translation: "Mestor", testTranslations: ["Mestor"], image: "https://i.imgur.com/R5VCAJr.png", link: "https://example.com/elephant" },
                { word: "Panda", translation: "Tiping", testTranslations: ["Tiping"], image: "https://i.imgur.com/KNB6f9X.png", link: "https://example.com/lion" },
                { word: "Jellyfish", translation: "Baltus", testTranslations: ["Baltus"], image: "https://i.imgur.com/yh6IMPd.png", link: "https://example.com/lion" },
                { word: "Butterfly", translation: "Elbimba", testTranslations: ["Elbimba"], image: "https://i.imgur.com/dl73DhS.png", link: "https://example.com/monkey" },
                { word: "Boar", translation: "Afro", testTranslations: ["Afro"], image: "https://i.imgur.com/JxWwTLn.png", link: "https://example.com/dog" },
                { word: "Worm", translation: "Vermis", testTranslations: ["Vermis"], image: "https://i.imgur.com/uHbz3ef.png", link: "https://example.com/elephant" },
                { word: "Deer", translation: "Pufen", testTranslations: ["Pufen"], image: "https://i.imgur.com/D332Pu8.png", link: "https://example.com/lion" },
                { word: "Seal", translation: "Clotsche", testTranslations: ["Clotsche"], image: "https://i.imgur.com/4BzuNtZ.png", link: "https://example.com/lion" },
                { word: "Sheep", translation: "Baoba", testTranslations: ["Baoba"], image: "https://i.imgur.com/jVK6Q0b.png", link: "https://example.com/elephant" },
                { word: "Snake", translation: "Schakk", testTranslations: ["Schakk"], image: "https://i.imgur.com/X3y8W1E.png", link: "https://example.com/lion" },
                { word: "Turtle", translation: "Horak", testTranslations: ["Horak"], image: "https://i.imgur.com/AC7mzAt.png", link: "https://example.com/elephant" },
                { word: "Snail", translation: "Göreg / Tschiggo", testTranslations: ["Göreg", "Tschiggo"], image: "https://i.imgur.com/jE60Sko.png", link: "https://example.com/lion" },
                { word: "Pig", translation: "Pigges", testTranslations: ["Pigges"], image: "https://i.imgur.com/5w9auVw.png", link: "https://example.com/lion" },
                { word: "Tiger", translation: "Nana", testTranslations: ["Nana"], image: "https://i.imgur.com/Q4OhkfU.png", link: "https://example.com/lion" },
                { word: "Spider", translation: "Bon", testTranslations: ["Bon"], image: "https://i.imgur.com/wW4JN6n.png", link: "https://example.com/dog" },
                { word: "Wasp", translation: "Fitschi", testTranslations: ["Fitschi"], image: "https://i.imgur.com/TbBSSD9.png", link: "https://example.com/lion" },
                { word: "Wolf", translation: "Fema", testTranslations: ["Fema"], image: "https://i.imgur.com/W1VJJQb.png", link: "https://example.com/monkey" },
                { word: "Zebra", translation: "Jamping", testTranslations: ["Jamping"], image: "https://i.imgur.com/CLilwI8.png", link: "https://example.com/dog" },
                { word: "Goat", translation: "Blaum", testTranslations: ["Blaum"], image: "https://i.imgur.com/NgYZZB1.png", link: "https://example.com/elephant" },
                { word: "Horse", translation: "Hürse", testTranslations: ["Hürse"], image: "https://i.imgur.com/4I8wgkM.png", link: "https://example.com/dog" },
                { word: "Buffalo", translation: "Garalf", testTranslations: ["Garalf"], image: "https://i.imgur.com/vGQvDpb.png", link: "https://example.com/elephant" },
                { word: "Giraffe", translation: "Tolbi", testTranslations: ["Tolbi"], image: "https://i.imgur.com/yXkeWtK.png", link: "https://example.com/lion" },
                { word: "Frog", translation: "Erap", testTranslations: ["Erap"], image: "https://i.imgur.com/33FTPwy.png", link: "https://example.com/lion" },
                { word: "Squid", translation: "Schlimp", testTranslations: ["Schlimp"], image: "https://i.imgur.com/sL2d0xK.png", link: "https://example.com/monkey" },
                { word: "Crab", translation: "Kora", testTranslations: ["Kora"], image: "https://i.imgur.com/Uhua6fJ.png", link: "https://example.com/dog" },
                { word: "Bird", translation: "Ersoo", testTranslations: ["Ersoo"], image: "https://i.imgur.com/l971cYO.png", link: "https://example.com/dog" },
                { word: "Turkey", translation: "Zwittel", testTranslations: ["Zwittel"], image: "https://i.imgur.com/1JMZao3.png", link: "https://example.com/lion" },
                { word: "Caterpillar", translation: "Pullbimba", testTranslations: ["Pullbimba"], image: "https://i.imgur.com/cMnTEdQ.png", link: "https://example.com/lion" },
				{ word: "Slug", translation: "Tschiggo", testTranslations: ["Tschiggo"], image: "https://i.imgur.com/KeklJam.png", link: "https://example.com/dog" },
				{ word: "Octopus", translation: "Bigo", testTranslations: ["Bigo"], image: "https://i.imgur.com/FQWwQ4H.png", link: "https://example.com/dog" },
                { word: "Owl", translation: "Alkat", testTranslations: ["Alkat"], image: "https://i.imgur.com/aYS1kxd.png", link: "https://example.com/lion" },		
                { word: "Peacock", translation: "Lotocolor", testTranslations: ["Lotocolor"], image: "https://i.imgur.com/SGIYWRY.png", link: "https://example.com/elephant" },
				{ word: "Salmon", translation: "Spistig", testTranslations: ["Spistig"], image: "https://i.imgur.com/GCqwJEr.png", link: "https://example.com/lion" },					
                { word: "Bee", translation: "Motedei", testTranslations: ["Motedei"], image: "https://i.imgur.com/7QDsr6x.png", link: "https://example.com/tiger" }
            ],
            "Clothing": [
                { word: "T-Shirt", translation: "Leik", testTranslations: ["Leik"], image: "https://i.imgur.com/4t2oWET.png", link: "https://example.com/monkey" },
                { word: "Shirt", translation: "Lierran", testTranslations: ["Lierran"], image: "https://i.imgur.com/M0yB7Ts.png", link: "https://example.com/dog" },
                { word: "Trousers", translation: "Gast", testTranslations: ["Gast"], image: "https://i.imgur.com/dGTPNVD.png", link: "https://example.com/elephant" },
                { word: "Sweater", translation: "Lamba", testTranslations: ["Lamba"], image: "https://i.imgur.com/uZ0dTQR.png", link: "https://example.com/lion" },
                { word: "Socks", translation: "Mozes", testTranslations: ["Mozes"], image: "https://i.imgur.com/7g9YX2D.png", link: "https://example.com/lion" },
                { word: "Shoes", translation: "Apartes", testTranslations: ["Apartes"], image: "https://i.imgur.com/eke00LG.png", link: "https://example.com/lion" },
                { word: "Jacket", translation: "Anorak", testTranslations: ["Anorak"], image: "https://i.imgur.com/bXsBqXV.png", link: "https://example.com/monkey" },
                { word: "Skirt", translation: "Pachl", testTranslations: ["Pachl"], image: "https://i.imgur.com/oZY6zl2.png", link: "https://example.com/dog" },
                { word: "Dress", translation: "Pachlon", testTranslations: ["Pachlon"], image: "https://i.imgur.com/Pi5iAIu.png", link: "https://example.com/elephant" },
                { word: "Sweatpants", translation: "Braugast", testTranslations: ["Braugast"], image: "https://i.imgur.com/QSGzBwH.png", link: "https://example.com/lion" },
                { word: "Male<br>Underpants", translation: "Ungast", testTranslations: ["Ungast"], image: "https://i.imgur.com/SpaKG3j.png", link: "https://example.com/lion" },
                { word: "Female<br>Underpants", translation: "Ungasta", testTranslations: ["Ungasta"], image: "https://i.imgur.com/CKDGnMt.png", link: "https://example.com/lion" },
                { word: "Bra", translation: "Brat", testTranslations: ["Brat"], image: "https://i.imgur.com/T0DomdN.png", link: "https://example.com/monkey" },
                { word: "Swimming<br>Trunks", translation: "Boxus", testTranslations: ["Boxus"], image: "https://i.imgur.com/0rRDH6j.png", link: "https://example.com/dog" },
                { word: "Bikini", translation: "Boxus", testTranslations: ["Boxus"], image: "https://i.imgur.com/96xCknx.png", link: "https://example.com/elephant" },
                { word: "Swimsuit", translation: "Kibeleik", testTranslations: ["Kibeleik"], image: "https://i.imgur.com/hkHcSDb.png", link: "https://example.com/lion" },
                { word: "Pantyhose", translation: "Tilti", testTranslations: ["Tilti"], image: "https://i.imgur.com/WJdkVSV.png", link: "https://example.com/lion" },
                { word: "Leggings", translation: "Gilling", testTranslations: ["Gilling"], image: "https://i.imgur.com/3yP0YMq.png", link: "https://example.com/lion" },
                { word: "Belt", translation: "Gürde", testTranslations: ["Gürde"], image: "https://i.imgur.com/Fhxca5g.png", link: "https://example.com/dog" },
                { word: "Suit", translation: "Trajer", testTranslations: ["Trajer"], image: "https://i.imgur.com/K52WAa6.png", link: "https://example.com/elephant" },
                { word: "Hat", translation: "Lobb", testTranslations: ["Lobb"], image: "https://i.imgur.com/bXLOd2j.png", link: "https://example.com/lion" },
                { word: "Gloves", translation: "Golfes", testTranslations: ["Golfes"], image: "https://i.imgur.com/85ZBC1t.png", link: "https://example.com/lion" },
                { word: "Stockings", translation: "Bokling", testTranslations: ["Bokling"], image: "https://i.imgur.com/5Q9CZB1.png", link: "https://example.com/dog" },
                { word: "Scarf", translation: "Skaralet", testTranslations: ["Skaralet"], image: "https://i.imgur.com/4hMKiPX.png", link: "https://example.com/elephant" },
                { word: "Tie", translation: "Huden", testTranslations: ["Huden"], image: "https://i.imgur.com/XCq6pUj.png", link: "https://example.com/lion" },
                { word: "Pajamas", translation: "Domi Domi", testTranslations: ["Domi Domi"], image: "https://i.imgur.com/AIuHod8.png", link: "https://example.com/lion" },
                { word: "Bathrobe", translation: "Tellur", testTranslations: ["Tellur"], image: "https://i.imgur.com/ekPrlVV.png", link: "https://example.com/lion" },
                { word: "Cloak", translation: "Kot", testTranslations: ["Kot"], image: "https://i.imgur.com/sxIaxpl.png", link: "https://example.com/lion" },
                { word: "Coat", translation: "Salka", testTranslations: ["Salka"], image: "https://i.imgur.com/y00oktC.png", link: "https://example.com/lion" },
                { word: "Shorts", translation: "Neitgast", testTranslations: ["Neitgast"], image: "https://i.imgur.com/YfpKH0j.png", link: "https://example.com/dog" },
                { word: "Vest", translation: "Cucu", testTranslations: ["Cucu"], image: "https://i.imgur.com/NXBEiNM.png", link: "https://example.com/elephant" },
                { word: "Sports Bra", translation: "Biache", testTranslations: ["Biache"], image: "https://i.imgur.com/RC7dV6g.png", link: "https://example.com/lion" },
                { word: "Tank Top", translation: "Flexitop", testTranslations: ["Flexitop"], image: "https://i.imgur.com/3Kqc3xR.png", link: "https://example.com/lion" },
                { word: "Raincoat", translation: "Zeluki", testTranslations: ["Zeluki"], image: "https://i.imgur.com/C14zfhf.png", link: "https://example.com/lion" },
                { word: "Boots", translation: "Onis", testTranslations: ["Onis"], image: "https://i.imgur.com/ONIaC74.png", link: "https://example.com/monkey" },
                { word: "Apron", translation: "Büzze", testTranslations: ["Büzze"], image: "https://i.imgur.com/twCQ0ZF.png", link: "https://example.com/dog" }
            ],
            "Colors": [
                { word: "Black", translation: "Swas", testTranslations: ["Swas"], image: "https://i.imgur.com/LnHOHYi.png", link: "https://example.com/monkey" },
                { word: "Brown", translation: "Bral", testTranslations: ["Bral"], image: "https://i.imgur.com/nNYI4Zk.png", link: "https://example.com/dog" },
                { word: "Green", translation: "Grö", testTranslations: ["Grö"], image: "https://i.imgur.com/pjM0SH9.png", link: "https://example.com/elephant" },
                { word: "Grey", translation: "Nikir", testTranslations: ["Nikir"], image: "https://i.imgur.com/dP21ggf.png", link: "https://example.com/lion" },
                { word: "Orange", translation: "Naran", testTranslations: ["Naran"], image: "https://i.imgur.com/53eNis9.png", link: "https://example.com/lion" },
                { word: "Pink", translation: "Menkor", testTranslations: ["Menkor"], image: "https://i.imgur.com/itt3SC6.png", link: "https://example.com/lion" },
                { word: "Purple", translation: "Purpur", testTranslations: ["Purpur"], image: "https://i.imgur.com/jULkvo6.png", link: "https://example.com/monkey" },
                { word: "Red", translation: "Ras", testTranslations: ["Ras"], image: "https://i.imgur.com/FIqVUQX.png", link: "https://example.com/dog" },
                { word: "White", translation: "Verus", testTranslations: ["Verus"], image: "https://i.imgur.com/oSVUM4n.png", link: "https://example.com/elephant" },
                { word: "Yellow", translation: "Elf", testTranslations: ["Elf"], image: "https://i.imgur.com/ZdiZPXt.png", link: "https://example.com/lion" },
                { word: "Blue", translation: "Blö", testTranslations: ["Blö"], image: "https://i.imgur.com/ROSod5f.png", link: "https://example.com/lion" }
            ],
            "Furniture": [
                { word: "Bed", translation: "Cama", testTranslations: ["Cama"], image: "https://i.imgur.com/vxpzD0C.png", link: "https://example.com/monkey" },
                { word: "Table", translation: "Punk", testTranslations: ["Punk"], image: "https://i.imgur.com/zS2xMZp.png", link: "https://example.com/dog" },
                { word: "Mirror", translation: "Liist", testTranslations: ["Liist"], image: "https://i.imgur.com/HuKcj0L.png", link: "https://example.com/dog" },				
                { word: "Chair", translation: "Stol", testTranslations: ["Stol"], image: "https://i.imgur.com/BSBIiOl.png", link: "https://example.com/elephant" },
                { word: "Couch", translation: "Cafas", testTranslations: ["Cafas"], image: "https://i.imgur.com/Jyt5jJD.png", link: "https://example.com/lion" },
                { word: "Wardrobe", translation: "Hinber", testTranslations: ["Hinber"], image: "https://i.imgur.com/yp8I9P7.png", link: "https://example.com/lion" },
                { word: "Shelf", translation: "Hyll", testTranslations: ["Hyll"], image: "https://i.imgur.com/p4lJY9k.png", link: "https://example.com/lion" },
                { word: "Carpet", translation: "Rug", testTranslations: ["Rug"], image: "https://i.imgur.com/j7Vdcy7.png", link: "https://example.com/monkey" },
                { word: "Door", translation: "Portal", testTranslations: ["Portal"], image: "https://i.imgur.com/cFQN3ua.png", link: "https://example.com/dog" },
                { word: "Window", translation: "Pfandfach", testTranslations: ["Pfandfach"], image: "https://i.imgur.com/AAEJLsa.png", link: "https://example.com/elephant" },
                { word: "Bench", translation: "Tödes", testTranslations: ["Tödes"], image: "https://i.imgur.com/15ArCGH.png", link: "https://example.com/lion" },
                { word: "Desk", translation: "Friid", testTranslations: ["Friid"], image: "https://i.imgur.com/6IziUxL.png", link: "https://example.com/lion" },
                { word: "Nightstand", translation: "Frotz", testTranslations: ["Frotz"], image: "https://i.imgur.com/HkLAira.png", link: "https://example.com/lion" },
                { word: "Curtain", translation: "Kronikei", testTranslations: ["Kronikei"], image: "https://i.imgur.com/Ya2vYEr.png", link: "https://example.com/monkey" },
                { word: "Armchair", translation: "Loek", testTranslations: ["Loek"], image: "https://i.imgur.com/bnK4IFj.png", link: "https://example.com/dog" }
            ],
            "Food": [
                { word: "Cherry", translation: "Scheri", testTranslations: ["Scheri"], image: "https://i.imgur.com/z4Yxbj6.png", link: "https://example.com/monkey" },
                { word: "Apple", translation: "Olmo", testTranslations: ["Olmo"], image: "https://i.imgur.com/fOOAupI.png", link: "https://example.com/dog" },
                { word: "Apricot", translation: "Lestö", testTranslations: ["Lestö"], image: "https://i.imgur.com/TIbpSym.png", link: "https://example.com/elephant" },
                { word: "Banana", translation: "Pata", testTranslations: ["Pata"], image: "https://i.imgur.com/XVb9Oe9.png", link: "https://example.com/lion" },
                { word: "Blackberry", translation: "Bromülüm", testTranslations: ["Bromülüm"], image: "https://i.imgur.com/9h4RrXs.png", link: "https://example.com/lion" },
                { word: "Blueberry", translation: "Purpurülüm", testTranslations: ["Purpurülüm"], image: "https://i.imgur.com/ikflvhK.png", link: "https://example.com/lion" },
                { word: "Dragon Fruit", translation: "Ed Muut", testTranslations: ["Ed Muut"], image: "https://i.imgur.com/xWoZtwX.png", link: "https://example.com/monkey" },
                { word: "Fig", translation: "Farg", testTranslations: ["Farg"], image: "https://i.imgur.com/lxUxI7C.png", link: "https://example.com/dog" },
                { word: "Grape", translation: "Sebbi", testTranslations: ["Sebbi"], image: "https://i.imgur.com/l5ygaIi.png", link: "https://example.com/elephant" },
                { word: "Kiwi", translation: "Bogga", testTranslations: ["Bogga"], image: "https://i.imgur.com/iGArN3L.png", link: "https://example.com/lion" },
                { word: "Lemon", translation: "Essi", testTranslations: ["Essi"], image: "https://i.imgur.com/yElLZJa.png", link: "https://example.com/lion" },
                { word: "Lime", translation: "Essus", testTranslations: ["Essus"], image: "https://i.imgur.com/2yUgcT8.png", link: "https://example.com/lion" },
                { word: "Mango", translation: "Duro", testTranslations: ["Duro"], image: "https://i.imgur.com/ZBEWYT2.png", link: "https://example.com/monkey" },
                { word: "Orange", translation: "Naraning", testTranslations: ["Naraning"], image: "https://i.imgur.com/jaTqASA.png", link: "https://example.com/dog" },
                { word: "Papaya", translation: "Pap Muut", testTranslations: ["Pap Muut"], image: "https://i.imgur.com/Jlu8hPi.png", link: "https://example.com/elephant" },
                { word: "Peach", translation: "Sump", testTranslations: ["Sump"], image: "https://i.imgur.com/2l6t5uq.png", link: "https://example.com/lion" },
                { word: "Pear", translation: "Körte", testTranslations: ["Körte"], image: "https://i.imgur.com/iOUBYwU.png", link: "https://example.com/lion" },
                { word: "Pineapple", translation: "Baubet", testTranslations: ["Baubet"], image: "https://i.imgur.com/ROhG97R.png", link: "https://example.com/lion" },
                { word: "Plum", translation: "Siva", testTranslations: ["Siva"], image: "https://i.imgur.com/Y5jTi9g.png", link: "https://example.com/dog" },
                { word: "Pomegranate", translation: "Grapping", testTranslations: ["Grapping"], image: "https://i.imgur.com/UiIDU6f.png", link: "https://example.com/elephant" },
                { word: "Raspberry", translation: "Himülüm", testTranslations: ["Himülüm"], image: "https://i.imgur.com/9AYIZ7d.png", link: "https://example.com/lion" },
                { word: "Strawberry", translation: "Absürdülüm", testTranslations: ["Absürdülüm"], image: "https://i.imgur.com/gSZv8RC.png", link: "https://example.com/lion" },
                { word: "Watermelon", translation: "Melo Offe Telo", testTranslations: ["Melo Offe Telo"], image: "https://i.imgur.com/4JC4s19.png", link: "https://example.com/lion" },
                { word: "Coconut", translation: "Knoss", testTranslations: ["Knoss"], image: "https://i.imgur.com/FHnXsQ0.png", link: "https://example.com/dog" },
                { word: "Avocado", translation: "Meelbo", testTranslations: ["Meelbo"], image: "https://i.imgur.com/8M2LBoh.png", link: "https://example.com/elephant" },
                { word: "Date", translation: "Brischit", testTranslations: ["Brischit"], image: "https://i.imgur.com/KCQm37W.png", link: "https://example.com/lion" },
				{ word: "Onion", translation: "Siffel", testTranslations: ["Siffel"], image: "https://i.imgur.com/0DqJBel.png", link: "https://example.com/monkey" },
				{ word: "Potato", translation: "Grölli", testTranslations: ["Grölli"], image: "https://i.imgur.com/Pn74Tea.png", link: "https://example.com/dog" },
				{ word: "Sweet Potato", translation: "Gröllus", testTranslations: ["Gröllus"], image: "https://i.imgur.com/DbX2bzB.png", link: "https://example.com/elephant" },
				{ word: "Carrot", translation: "Kör", testTranslations: ["Kör"], image: "https://i.imgur.com/cq2alm5.png", link: "https://example.com/lion" },
				{ word: "Tomato", translation: "Rogadom", testTranslations: ["Rogadom"], image: "https://i.imgur.com/YgQJ1Sb.png", link: "https://example.com/lion" },
				{ word: "Cucumber", translation: "Kukumba", testTranslations: ["Kukumba"], image: "https://i.imgur.com/p5Mm5uM.png", link: "https://example.com/lion" },
				{ word: "Pepper", translation: "Kemp", testTranslations: ["Kemp"], image: "https://i.imgur.com/kLH69bs.png", link: "https://example.com/monkey" },
				{ word: "Chili", translation: "Kobi", testTranslations: ["Kobi"], image: "https://i.imgur.com/BYrskBQ.png", link: "https://example.com/dog" },
				{ word: "Broccoli", translation: "Gepp", testTranslations: ["Gepp"], image: "https://i.imgur.com/0AEWoju.png", link: "https://example.com/elephant" },
				{ word: "Cauliflower", translation: "Gaulus", testTranslations: ["Gaulus"], image: "https://i.imgur.com/L71uQqr.png", link: "https://example.com/lion" },
				{ word: "Garlic", translation: "Solnit", testTranslations: ["Solnit"], image: "https://i.imgur.com/fi322dQ.png", link: "https://example.com/lion" },
				{ word: "Asparagus", translation: "Loft", testTranslations: ["Loft"], image: "https://i.imgur.com/Uwfg7Mg.png", link: "https://example.com/lion" },
				{ word: "Celery", translation: "Zeller", testTranslations: ["Zeller"], image: "https://i.imgur.com/NArlLpx.png", link: "https://example.com/monkey" },
				{ word: "Pea", translation: "Py", testTranslations: ["Py"], image: "https://i.imgur.com/tJmChJc.png", link: "https://example.com/dog" },
				{ word: "Pumpkin", translation: "Guru", testTranslations: ["Guru"], image: "https://i.imgur.com/f9Wjv5x.png", link: "https://example.com/elephant" },
				{ word: "Mushroom", translation: "Mantar", testTranslations: ["Mantar"], image: "https://i.imgur.com/XNuFD3G.png", link: "https://example.com/lion" },
				{ word: "Wheat", translation: "Beta", testTranslations: ["Beta"], image: "https://i.imgur.com/rUEWbdF.png", link: "https://example.com/lion" },
				{ word: "Radish", translation: "Fillis", testTranslations: ["Fillis"], image: "https://i.imgur.com/7rNs7hF.png", link: "https://example.com/lion" },
				{ word: "Corn", translation: "Mogrop", testTranslations: ["Mogrop"], image: "https://i.imgur.com/ssa3wuB.png", link: "https://example.com/dog" },
				{ word: "Cress", translation: "App Alei", testTranslations: ["App Alei"], image: "https://i.imgur.com/OrIdpYS.png", link: "https://example.com/elephant" },
				{ word: "Olive", translation: "Seyto", testTranslations: ["Seyto"], image: "https://i.imgur.com/tWf1O39.png", link: "https://example.com/lion" },
				{ word: "Kohlrabi", translation: "Trükk", testTranslations: ["Trükk"], image: "https://i.imgur.com/mVlVBkG.png", link: "https://example.com/lion" },
				{ word: "Leek", translation: "Lestitus", testTranslations: ["Lestitus"], image: "https://i.imgur.com/SwokAXj.png", link: "https://example.com/lion" },
				{ word: "Zucchini", translation: "Swok", testTranslations: ["Swok"], image: "https://i.imgur.com/M6JVVqo.png", link: "https://example.com/dog" },
				{ word: "Aubergine", translation: "Prent", testTranslations: ["Prent"], image: "https://i.imgur.com/LQmnQ9B.png", link: "https://example.com/elephant" },
				{ word: "Spinach", translation: "Ardex", testTranslations: ["Ardex"], image: "https://i.imgur.com/ulqB4a0.png", link: "https://example.com/elephant" },
				{ word: "Cabbage", translation: "Beness", testTranslations: ["Beness"], image: "https://i.imgur.com/0AFLd62.png", link: "https://example.com/lion" },
				{ word: "Lettuce", translation: "Schnisse", testTranslations: ["Schnisse"], image: "https://i.imgur.com/kwFfioM.png", link: "https://example.com/lion" },
				{ word: "Green Bean", translation: "Selena", testTranslations: ["Selena"], image: "https://i.imgur.com/kuYhISv.png", link: "https://example.com/dog" },			
				{ word: "Horseradish", translation: "Malkobus", testTranslations: ["Malkobus"], image: "https://i.imgur.com/A6VS8Ak.png", link: "https://example.com/lion" },
				{ word: "Salt", translation: "Nunsio", testTranslations: ["Nunsio"], image: "https://i.imgur.com/xV06EdS.png", link: "https://example.com/monkey" },
				{ word: "Ginger", translation: "Cleder", testTranslations: ["Cleder"], image: "https://i.imgur.com/1S1yn1d.png", link: "https://example.com/dog" },
				{ word: "Pepper", translation: "Pilip", testTranslations: ["Pilip"], image: "https://i.imgur.com/MXHYw9D.png", link: "https://example.com/elephant" },
				{ word: "Caraway", translation: "Happet", testTranslations: ["Happet"], image: "https://i.imgur.com/GA3TQJG.png", link: "https://example.com/lion" },
				{ word: "Paprika", translation: "Siin", testTranslations: ["Siin"], image: "https://i.imgur.com/vWWRgB7.png", link: "https://example.com/lion" },
				{ word: "Cinnamon", translation: "Kivokat", testTranslations: ["Kivokat"], image: "https://i.imgur.com/Dd5MecB.png", link: "https://example.com/lion" },
				{ word: "Nutmeg", translation: "Gobonut", testTranslations: ["Gobonut"], image: "https://i.imgur.com/Hrvj3qr.png", link: "https://example.com/monkey" },
				{ word: "Oregano", translation: "Göller", testTranslations: ["Göller"], image: "https://i.imgur.com/d4UAetI.png", link: "https://example.com/dog" },
				{ word: "Mint", translation: "Connet", testTranslations: ["Connet"], image: "https://i.imgur.com/pwnvifq.png", link: "https://example.com/elephant" },
				{ word: "Rosemary", translation: "Pling", testTranslations: ["Pling"], image: "https://i.imgur.com/s2nsKhb.png", link: "https://example.com/lion" },
				{ word: "Basil", translation: "Gorbisch", testTranslations: ["Gorbisch"], image: "https://i.imgur.com/mc1vciX.png", link: "https://example.com/lion" },
				{ word: "Parsley", translation: "Neva", testTranslations: ["Neva"], image: "https://i.imgur.com/NaNtITz.png", link: "https://example.com/lion" },
				{ word: "Fennel", translation: "Sabaletta", testTranslations: ["Sabaletta"], image: "https://i.imgur.com/nbSDXRQ.png", link: "https://example.com/lion" },
				{ word: "Clove", translation: "Muske", testTranslations: ["Muske"], image: "https://i.imgur.com/F6OEfSn.png", link: "https://example.com/lion" },
				{ word: "Bay Leaf", translation: "Grusi", testTranslations: ["Grusi"], image: "https://i.imgur.com/xYIwNVc.png", link: "https://example.com/dog" },
				{ word: "Cake / Pie", translation: "Schlut", testTranslations: ["Schlut"], image: "https://i.imgur.com/HpLHa3l.png", link: "https://example.com/monkey" },
				{ word: "Gummies", translation: "Kaschis", testTranslations: ["Kaschis"], image: "https://i.imgur.com/xgCdY3i.png", link: "https://example.com/dog" },
				{ word: "Lollipop", translation: "Döbling", testTranslations: ["Döbling"], image: "https://i.imgur.com/sXZkoUC.png", link: "https://example.com/elephant" },
				{ word: "Chewing Gum", translation: "Kulpus", testTranslations: ["Kulpus"], image: "https://i.imgur.com/ulfcSw0.png", link: "https://example.com/lion" },
				{ word: "Marshmallow", translation: "Bal Vusduk", testTranslations: ["Bal Vusduk"], image: "https://i.imgur.com/Q9ifxEI.png", link: "https://example.com/lion" },
				{ word: "Licorice", translation: "Sundis", testTranslations: ["Sundis"], image: "https://i.imgur.com/U8KNlNV.png", link: "https://example.com/lion" },
				{ word: "Chocolate", translation: "Alpine", testTranslations: ["Alpine"], image: "https://i.imgur.com/7IohmF2.png", link: "https://example.com/monkey" },
				{ word: "Biscuit / Cookie", translation: "Gek", testTranslations: ["Gek"], image: "https://i.imgur.com/1Ml1jj1.png", link: "https://example.com/dog" },
				{ word: "Gingerbread", translation: "Motema", testTranslations: ["Motema"], image: "https://i.imgur.com/3naD9cv.png", link: "https://example.com/elephant" },
				{ word: "Muffin", translation: "Lebet", testTranslations: ["Lebet"], image: "https://i.imgur.com/su2k6zC.png", link: "https://example.com/lion" },
				{ word: "Ice Cream", translation: "Kolti", testTranslations: ["Kolti"], image: "https://i.imgur.com/SxnuOmr.png", link: "https://example.com/lion" },
				{ word: "Pudding", translation: "Tivon", testTranslations: ["Tivon"], image: "https://i.imgur.com/tmuPg83.png", link: "https://example.com/lion" },
				{ word: "Cotton Candy", translation: "Coca", testTranslations: ["Coca"], image: "https://i.imgur.com/cvGEvoY.png", link: "https://example.com/monkey" },
				{ word: "Donut", translation: "Batsch", testTranslations: ["Batsch"], image: "https://i.imgur.com/PVHO0iz.png", link: "https://example.com/dog" },
				{ word: "Milk", translation: "Melk", testTranslations: ["Melk"], image: "https://i.imgur.com/1uC55OB.png", link: "https://example.com/monkey" },
				{ word: "Whipped Cream", translation: "Surch", testTranslations: ["Surch"], image: "https://i.imgur.com/0TCIwwW.png", link: "https://example.com/dog" },
				{ word: "Butter", translation: "Kome", testTranslations: ["Kome"], image: "https://i.imgur.com/yEsHiOH.png", link: "https://example.com/elephant" },
				{ word: "Cheese", translation: "Ost", testTranslations: ["Ost"], image: "https://i.imgur.com/NYEsVej.png", link: "https://example.com/lion" },
				{ word: "Yogurt", translation: "Bötting", testTranslations: ["Bötting"], image: "https://i.imgur.com/j5mmRcf.png", link: "https://example.com/lion" },
				{ word: "Sour Cream", translation: "Raam Be", testTranslations: ["Raam Be"], image: "https://i.imgur.com/e60AiPf.png", link: "https://example.com/lion" },
				{ word: "Quark", translation: "Hirkit", testTranslations: ["Hirkit"], image: "https://i.imgur.com/AZ5dulV.png", link: "https://example.com/monkey" },
				{ word: "Chocolate Bar", translation: "Woffek", testTranslations: ["Woffek"], image: "https://i.imgur.com/aA08FuP.png", link: "https://example.com/tiger" },
				{ word: "Beer", translation: "Öl", testTranslations: ["Öl"], image: "https://i.imgur.com/UTDVNkX.png", link: "https://example.com/monkey" },
				{ word: "Wine", translation: "Sebb", testTranslations: ["Sebb"], image: "https://i.imgur.com/YbeyrKk.png", link: "https://example.com/dog" },
				{ word: "Water", translation: "Telo", testTranslations: ["Telo"], image: "https://i.imgur.com/ChOl7tV.png", link: "https://example.com/elephant" },
				{ word: "Tea", translation: "Neness", testTranslations: ["Neness"], image: "https://i.imgur.com/ODeI0E9.png", link: "https://example.com/lion" },
				{ word: "Coffee", translation: "Kurva", testTranslations: ["Kurva"], image: "https://i.imgur.com/NkBH3MF.png", link: "https://example.com/lion" },
				{ word: "Orange Juice", translation: "Sucus Offe Naraning", testTranslations: ["Sucus Offe Naraning"], image: "https://i.imgur.com/xxk50Vm.png", link: "https://example.com/lion" },
				{ word: "Apple Juice", translation: "Sucus Offe Olmo", testTranslations: ["Sucus Offe Olmo"], image: "https://i.imgur.com/CB4xZ8a.png", link: "https://example.com/monkey" },
				{ word: "Cola", translation: "Lutein", testTranslations: ["Lutein"], image: "https://i.imgur.com/UI25r7F.png", link: "https://example.com/dog" },
				{ word: "Lemonade", translation: "Aureliador", testTranslations: ["Aureliador"], image: "https://i.imgur.com/SxYYb7W.png", link: "https://example.com/elephant" },
				{ word: "Energy Drink", translation: "Pipoi", testTranslations: ["Pipoi"], image: "https://i.imgur.com/Cx9E64p.png", link: "https://example.com/lion" },
				{ word: "Ice Tea", translation: "Krosa", testTranslations: ["Krosa"], image: "https://i.imgur.com/eVyhyX9.png", link: "https://example.com/lion" },
				{ word: "Vodka", translation: "Rustus", testTranslations: ["Rustus"], image: "https://i.imgur.com/WL1lutZ.png", link: "https://example.com/lion" },
				{ word: "Hot Chocolate", translation: "Toptschok", testTranslations: ["Toptschok"], image: "https://i.imgur.com/8znCJTJ.png", link: "https://example.com/lion" },            
				{ word: "Bread", translation: "He", testTranslations: ["He"], image: "https://i.imgur.com/g3286FO.png", link: "https://example.com/monkey" },
				{ word: "Egg", translation: "Galgo", testTranslations: ["Galgo"], image: "https://i.imgur.com/OcA6MRt.png", link: "https://example.com/dog" },
				{ word: "Rice", translation: "Diri", testTranslations: ["Diri"], image: "https://i.imgur.com/oYYQ0Ub.png", link: "https://example.com/elephant" },
				{ word: "Noodles", translation: "Banos", testTranslations: ["Banos"], image: "https://i.imgur.com/rpTYIxr.png", link: "https://example.com/lion" },
				{ word: "Tofu", translation: "Döscht", testTranslations: ["Döscht"], image: "https://i.imgur.com/dh6Ll7L.png", link: "https://example.com/lion" },
				{ word: "Olive Oil", translation: "Enne Offe Seyto", testTranslations: ["Enne Offe Seyto"], image: "https://i.imgur.com/hMsyowd.png", link: "https://example.com/lion" },
				{ word: "Cereal", translation: "Floc", testTranslations: ["Floc"], image: "https://i.imgur.com/ZrXb7eg.png", link: "https://example.com/monkey" },
				{ word: "Pizza", translation: "Güllerum", testTranslations: ["Güllerum"], image: "https://i.imgur.com/bRPxcuq.png", link: "https://example.com/dog" },
				{ word: "Jam", translation: "Anusche", testTranslations: ["Anusche"], image: "https://i.imgur.com/R5sfu8e.png", link: "https://example.com/elephant" },
				{ word: "Honey", translation: "Mote", testTranslations: ["Mote"], image: "https://i.imgur.com/02zECzR.png", link: "https://example.com/lion" },
				{ word: "Ketchup", translation: "Siap", testTranslations: ["Siap"], image: "https://i.imgur.com/NeU2tVR.png", link: "https://example.com/lion" },
				{ word: "Sausage", translation: "Framm", testTranslations: ["Framm"], image: "https://i.imgur.com/g5EMb4K.png", link: "https://example.com/lion" },
				{ word: "Pork", translation: "Pigges Tramm", testTranslations: ["Pigges Tramm"], image: "https://i.imgur.com/v0i0nRt.png", link: "https://example.com/dog" },
				{ word: "Beef", translation: "Gombe Tramm", testTranslations: ["Gombe Tramm"], image: "https://i.imgur.com/wEcB95V.png", link: "https://example.com/elephant" },
				{ word: "Burger", translation: "Poggen", testTranslations: ["Poggen"], image: "https://i.imgur.com/yaKdxSo.png", link: "https://example.com/lion" },
				{ word: "Vinegar", translation: "Lynsch", testTranslations: ["Lynsch"], image: "https://i.imgur.com/zhfy6CG.png", link: "https://example.com/lion" },
				{ word: "Soup", translation: "Suppi", testTranslations: ["Suppi"], image: "https://i.imgur.com/lkySN45.png", link: "https://example.com/lion" },	
				{ word: "Mustard", translation: "Senef", testTranslations: ["Senef"], image: "https://i.imgur.com/FohmnPI.png", link: "https://example.com/dog" },
				{ word: "Chips", translation: "Gipes", testTranslations: ["Gipes"], image: "https://i.imgur.com/4IkZ3wj.png", link: "https://example.com/elephant" },
				{ word: "Popcorn", translation: "Fohm", testTranslations: ["Fohm"], image: "https://i.imgur.com/Jf8y2Fm.png", link: "https://example.com/lion" },			
				{ word: "Poultry", translation: "Mortes Tramm", testTranslations: ["Mortes Tramm"], image: "https://i.imgur.com/oSzk56T.png", link: "https://example.com/lion" },
				{ word: "Chocolate Cream", translation: "Hübi", testTranslations: ["Hübi"], image: "https://i.imgur.com/F85WfIq.png", link: "https://example.com/lion" }				
			],			

            "Electronics": [
				{ word: "Cell Phone", translation: "Tronde", testTranslations: ["Tronde"], image: "https://i.imgur.com/c7I6fYM.png", link: "https://example.com/monkey" },
				{ word: "Telephone", translation: "Nurlos", testTranslations: ["Nurlos"], image: "https://i.imgur.com/XGGhLjU.png", link: "https://example.com/dog" },
				{ word: "TV / PC / Laptop", translation: "Dif", testTranslations: ["Dif"], image: "https://i.imgur.com/QCy92iG.png", link: "https://example.com/elephant" },
				{ word: "WIFI", translation: "Huno", testTranslations: ["Huno"], image: "https://i.imgur.com/99gu83g.png", link: "https://example.com/lion" },
				{ word: "Camera", translation: "Rosi", testTranslations: ["Rosi"], image: "https://i.imgur.com/cZ6Fo7N.png", link: "https://example.com/lion" },
				{ word: "Calculator", translation: "Deidbiveid", testTranslations: ["Deidbiveid"], image: "https://i.imgur.com/j7YbIOQ.png", link: "https://example.com/lion" },
				{ word: "Radio", translation: "Risch", testTranslations: ["Risch"], image: "https://i.imgur.com/Fe9yJaV.png", link: "https://example.com/lion" },
				{ word: "Headphones", translation: "Smelvin", testTranslations: ["Smelvin"], image: "https://i.imgur.com/Hd9jY1D.png", link: "https://example.com/lion" },
				{ word: "Speaker", translation: "Kikimen", testTranslations: ["Kikimen"], image: "https://i.imgur.com/cprpk6g.png", link: "https://example.com/lion" },	
				{ word: "Hard Drive", translation: "Morus", testTranslations: ["Morus"], image: "https://i.imgur.com/Ke0j0L2.png", link: "https://example.com/lion" },
				{ word: "Charger", translation: "Lunectus", testTranslations: ["Lunectus"], image: "https://i.imgur.com/9m0PCK8.png", link: "https://example.com/lion" },
				{ word: "Clock", translation: "Nö", testTranslations: ["Nö"], image: "https://i.imgur.com/MqbWOgz.png", link: "https://example.com/lion" },		
				{ word: "Light Bulb", translation: "Körte Offe Licht", testTranslations: ["Körte Offe Licht"], image: "https://i.imgur.com/xs2kNcz.png", link: "https://example.com/lion" },
				{ word: "Microphone", translation: "Lüttesch", testTranslations: ["Lüttesch"], image: "https://i.imgur.com/SdNisnq.png", link: "https://example.com/lion" },
				{ word: "Drone", translation: "Pipa", testTranslations: ["Pipa"], image: "https://i.imgur.com/Pipa66x.png", link: "https://example.com/lion" },	
				{ word: "Battery", translation: "Lamm", testTranslations: ["Lamm"], image: "https://i.imgur.com/vq0h4Bb.png", link: "https://example.com/lion" },
				{ word: "Robot", translation: "Ofralet", testTranslations: ["Ofralet"], image: "https://i.imgur.com/Rqg9yNU.png", link: "https://example.com/lion" },
				{ word: "Lamp", translation: "Licht", testTranslations: ["Licht"], image: "https://i.imgur.com/EwJWJZq.png", link: "https://example.com/lion" },
				{ word: "Vacuum Cleaner", translation: "Rende", testTranslations: ["Rende"], image: "https://i.imgur.com/y1tL97f.png", link: "https://example.com/lion" },
				{ word: "Flashlight", translation: "Fonik", testTranslations: ["Fonik"], image: "https://i.imgur.com/f5CKSc6.png", link: "https://example.com/dog" },
				{ word: "Radiator", translation: "Lu", testTranslations: ["Lu"], image: "https://i.imgur.com/SgmLhke.png", link: "https://example.com/elephant" },						
				{ word: "Printer", translation: "Marmari", testTranslations: ["Marmari"], image: "https://i.imgur.com/PLdNaDR.png", link: "https://example.com/monkey" }
        ],
		
            "Medicine": [
				{ word: "First Aid Kit", translation: "Lütleger", testTranslations: ["Lütleger"], image: "https://i.imgur.com/RXtfbms.png", link: "https://example.com/monkey" },
				{ word: "Medical Gloves", translation: "Letgolfes", testTranslations: ["Letgolfes"], image: "https://i.imgur.com/53y1RBm.png", link: "https://example.com/lion" },
				{ word: "Syringe", translation: "Füsik", testTranslations: ["Füsik"], image: "https://i.imgur.com/FnULDkN.png", link: "https://example.com/elephant" },
				{ word: "Vaccination", translation: "Subuki", testTranslations: ["Subuki"], image: "https://i.imgur.com/SL4bi1P.png", link: "https://example.com/lion" },
				{ word: "Examination Table", translation: "Lama", testTranslations: ["Lama"], image: "https://i.imgur.com/BpZ6vWJ.png", link: "https://example.com/lion" },
				{ word: "Thermometer", translation: "Risten", testTranslations: ["Risten"], image: "https://i.imgur.com/FHN9WuN.png", link: "https://example.com/lion" },
				{ word: "Scalpel", translation: "Barte Biib", testTranslations: ["Barte Biib"], image: "https://i.imgur.com/49Qmvzf.png", link: "https://example.com/monkey" },
				{ word: "Stethoscope", translation: "Eitsch", testTranslations: ["Eitsch"], image: "https://i.imgur.com/O2CFfAK.png", link: "https://example.com/dog" },
				{ word: "Bandages", translation: "Medises", testTranslations: ["Medises"], image: "https://i.imgur.com/GMcbXlw.png", link: "https://example.com/elephant" },
				{ word: "Plaster", translation: "Medis", testTranslations: ["Medis"], image: "https://i.imgur.com/O49wPae.png", link: "https://example.com/lion" },
				{ word: "IV", translation: "Maldynt", testTranslations: ["Maldynt"], image: "https://i.imgur.com/Y24LFS3.png", link: "https://example.com/lion" },
				{ word: "Wheelchair", translation: "Ratastol", testTranslations: ["Ratastol"], image: "https://i.imgur.com/vEJq42x.png", link: "https://example.com/lion" },
				{ word: "Crutches", translation: "Döstis", testTranslations: ["Döstis"], image: "https://i.imgur.com/p8dZAuq.png", link: "https://example.com/lion" },
				{ word: "Mask", translation: "Halm", testTranslations: ["Halm"], image: "https://i.imgur.com/VCz3vwR.png", link: "https://example.com/lion" },
				{ word: "Ambulance", translation: "Emeil", testTranslations: ["Emeil"], image: "https://i.imgur.com/fDw6W1I.png", link: "https://example.com/monkey" },
				{ word: "Pill", translation: "Odim", testTranslations: ["Odim"], image: "https://i.imgur.com/KkZxL2c.png", link: "https://example.com/dog" },
				{ word: "Microscope", translation: "Kitschipfand", testTranslations: ["Kitschipfand"], image: "https://i.imgur.com/5xIuNhu.png", link: "https://example.com/elephant" }
        ],		

            "Body": [
                { word: "Hair", translation: "Pelos", testTranslations: ["Pelos"], image: "https://i.imgur.com/KSKzpso.png" },
                { word: "Neck", translation: "Albi", testTranslations: ["Albi"], image: "https://i.imgur.com/nLFZTfd.png" },
                { word: "Shoulder", translation: "Plauder", testTranslations: ["Plauder"], image: "https://i.imgur.com/49q2QGQ.png" },
                { word: "Breast", translation: "Brist", testTranslations: ["Brist"], image: "https://i.imgur.com/YCQD9vh.png" },
                { word: "Elbow", translation: "Plirr", testTranslations: ["Plirr"], image: "https://i.imgur.com/1P2JD6o.png" },
                { word: "Arm", translation: "Limp", testTranslations: ["Limp"], image: "https://i.imgur.com/e1aOHMJ.png" },
                { word: "Belly", translation: "Mowdok", testTranslations: ["Mowdok"], image: "https://i.imgur.com/jRQmBMg.png" },
                { word: "Belly<br>Button", translation: "Buton", testTranslations: ["Buton"], image: "https://i.imgur.com/L2PwI5v.png" },
                { word: "Hand", translation: "Mans", testTranslations: ["Mans"], image: "https://i.imgur.com/amDZ8cW.png" },
                { word: "Hip", translation: "Plazen", testTranslations: ["Plazen"], image: "https://i.imgur.com/VrDLDWE.png" },
                { word: "Butt", translation: "Setaxi", testTranslations: ["Setaxi"], image: "https://i.imgur.com/pusddGA.png" },
                { word: "Finger", translation: "Eidreis", testTranslations: ["Eidreis"], image: "https://i.imgur.com/UGtLRiz.png" },
                { word: "Thigh", translation: "Obdans", testTranslations: ["Obdans"], image: "https://i.imgur.com/6ElOA3V.png" },
                { word: "Lower Leg", translation: "Undans", testTranslations: ["Undans"], image: "https://i.imgur.com/kqMuvrc.png" },
                { word: "Leg", translation: "Dans", testTranslations: ["Dans"], image: "https://i.imgur.com/1SseYil.png" },
                { word: "Knee", translation: "Plündur", testTranslations: ["Plündur"], image: "https://i.imgur.com/8Oego0o.png" },
                { word: "Foot", translation: "Boing", testTranslations: ["Boing"], image: "https://i.imgur.com/bpjN1pz.png" },
                { word: "Skin", translation: "Teit", testTranslations: ["Teit"], image: "https://i.imgur.com/O4dyr2u.png" },
                { word: "Head", translation: "Mual", testTranslations: ["Mual"], image: "https://i.imgur.com/hgmSMVc.png" },
                { word: "Blood", translation: "Eskumpo", testTranslations: ["Eskumpo"], image: "https://i.imgur.com/NXaCRHw.png" },
                { word: "Eye", translation: "Mati", testTranslations: ["Mati"], image: "https://i.imgur.com/OyY7bMQ.png" },
                { word: "Mouth", translation: "Tschenkus", testTranslations: ["Tschenkus"], image: "https://i.imgur.com/1KZ4R5a.png" },
                { word: "Ear", translation: "Audisi", testTranslations: ["Audisi"], image: "https://i.imgur.com/lMZsUyh.png" },
                { word: "Nose", translation: "Odorus", testTranslations: ["Odorus"], image: "https://i.imgur.com/wWS95Ja.png" },
                { word: "Beard", translation: "Prenning", testTranslations: ["Prenning"], image: "https://i.imgur.com/dRiC5Ma.png" },
                { word: "Testicles", translation: "Grünus", testTranslations: ["Grünus"], image: "https://i.imgur.com/f4K8qJZ.png" },
                { word: "Penis", translation: "Pentus", testTranslations: ["Pentus"], image: "https://i.imgur.com/zjPgW0F.png" },
                { word: "Vagina", translation: "Nistus", testTranslations: ["Nistus"], image: "https://i.imgur.com/b8MuZ6h.png" },
                { word: "Back", translation: "Bnakk", testTranslations: ["Bnakk"], image: "https://i.imgur.com/GQpgTeu.png" },
                { word: "Armpit", translation: "Snolf", testTranslations: ["Snolf"], image: "https://i.imgur.com/PTycAyC.png" },
                { word: "Wrist", translation: "Göffner", testTranslations: ["Göffner"], image: "https://i.imgur.com/YpblmXD.png" },
                { word: "Ankle", translation: "Höffner", testTranslations: ["Höffner"], image: "https://i.imgur.com/hlF9MiC.png" },
                { word: "Tooth", translation: "Tahn", testTranslations: ["Tahn"], image: "https://i.imgur.com/Xe2GIDS.png" },
                { word: "Lip", translation: "Fuschus", testTranslations: ["Fuschus"], image: "https://i.imgur.com/hTKwOtZ.png" },
                { word: "Tongue", translation: "Lal", testTranslations: ["Lal"], image: "https://i.imgur.com/9eYC0hI.png" },
                { word: "Brain", translation: "Gebin", testTranslations: ["Gebin"], image: "https://i.imgur.com/90a466p.png" },
                { word: "Lungs", translation: "Zobde", testTranslations: ["Zobde"], image: "https://i.imgur.com/yabUBlO.png" },
                { word: "Heart", translation: "Corzo", testTranslations: ["Corzo"], image: "https://i.imgur.com/06Z9T6B.png" },
                { word: "Liver", translation: "Pisa", testTranslations: ["Pisa"], image: "https://i.imgur.com/zSJq1b5.png" },
                { word: "Kidney", translation: "Deo", testTranslations: ["Deo"], image: "https://i.imgur.com/gfQg8JT.png" },
                { word: "Stomach", translation: "Magen", testTranslations: ["Magen"], image: "https://i.imgur.com/CAm42Z5.png" },
                { word: "Small<br>intestine", translation: "Onzo", testTranslations: ["Onzo"], image: "https://i.imgur.com/XeJBYrO.png" },
                { word: "Colon", translation: "Weilo", testTranslations: ["Weilo"], image: "https://i.imgur.com/e5PevJu.png" },
                { word: "Bladder", translation: "Uripeta", testTranslations: ["Uripeta"], image: "https://i.imgur.com/xvgnW6l.png" },
                { word: "Spleen", translation: "Bluste", testTranslations: ["Bluste"], image: "https://i.imgur.com/tuSk6iD.png" },
                { word: "Placenta", translation: "Olgo", testTranslations: ["Olgo"], image: "https://i.imgur.com/bvhohEX.png" },
                { word: "Uterus", translation: "Selum", testTranslations: ["Selum"], image: "https://i.imgur.com/6cTyP9q.png" },
                { word: "Fallopian Tube", translation: "Bonyte", testTranslations: ["Bonyte"], image: "https://i.imgur.com/8oaCRM8.png" },
                { word: "Ovary", translation: "Galgotof", testTranslations: ["Galgotof"], image: "https://i.imgur.com/miALnvA.png" },
                { word: "Sperm Cell", translation: "Velumi", testTranslations: ["Velumi"], image: "https://i.imgur.com/oexja8I.png" },
                { word: "Bone", translation: "Bonek", testTranslations: ["Bonek"], image: "https://i.imgur.com/PDtdaFg.png" },	
                { word: "Muscle", translation: "Cornet", testTranslations: ["Cornet"], image: "https://i.imgur.com/xVtcRCl.png" },
                { word: "Blood Vessel", translation: "Semi Set", testTranslations: ["Semi Set"], image: "https://i.imgur.com/CIqx7MA.png" },				
                { word: "Toe", translation: "Kurum", testTranslations: ["Kurum"], image: "https://i.imgur.com/ftxVkjf.png" }
            ]
        };

        // DOM elements
        const overviewSection = document.getElementById('overview-section');
        const flashcardsSection = document.getElementById('flashcards-section');
        const testSection = document.getElementById('test-section');
        const overviewTab = document.getElementById('overview-tab');
        const flashcardsTab = document.getElementById('flashcards-tab');
        const testTab = document.getElementById('test-tab');
        const flashcardContainer = document.getElementById('flashcard-container');
        const flashcardImage = document.getElementById('flashcard-image');
        const flashcardWord = document.getElementById('flashcard-word');
        const flashcardTranslation = document.getElementById('flashcard-translation');
        const nextFlashcardBtn = document.getElementById('next-flashcard');
        const testImage = document.getElementById('test-image');
        const testWord = document.getElementById('test-word');
        const testInput = document.getElementById('test-input');
        const testSubmit = document.getElementById('test-submit');
        const skipTestBtn = document.getElementById('skip-test');
        const testFeedback = document.getElementById('test-feedback');
        const testProgress = document.getElementById('test-progress');
        const settingsIcon = document.getElementById('settings-icon');
        const settingsOverlay = document.getElementById('settings-overlay');
        const settingsPanel = document.getElementById('settings-panel');
        const closeSettings = document.getElementById('close-settings');
        const topicsList = document.getElementById('topics-list');

        // State variables
        let currentFlashcardIndex = 0;
        let currentTestIndex = 0;
        let recentlyTestedIndices = [];
        let recentlyFlashcardIndices = [];
        let flashcardMode = 'random';
        let overviewSortMode = 'english';
        let activeTopics = {};
        let currentVocabulary = [];
        let isCheckingAnswer = false;

        // Initialize the app
        function init() {
            // Check if critical DOM elements exist
            if (!overviewSection || !flashcardsSection || !testSection || !overviewTab || !flashcardsTab || !testTab) {
                console.error('One or more critical DOM elements are missing:', {
                    overviewSection, flashcardsSection, testSection, overviewTab, flashcardsTab, testTab
                });
                return;
            }

            // Initialize all topics as active by default
            Object.keys(vocabularyData).forEach(topic => {
                activeTopics[topic] = true;
            });
            
            populateTopicsList();
            updateVocabulary();
            
            preloadImages().then(() => {
                populateOverview();
                setupFlashcards();
                setupTest();
                showSection('overview-section');
            });
            
            // Event listeners for tabs
            overviewTab.addEventListener('click', () => showSection('overview-section'));
            flashcardsTab.addEventListener('click', () => showSection('flashcards-section'));
            testTab.addEventListener('click', () => showSection('test-section'));
            
            // Event listeners for mode toggle
            document.querySelectorAll('input[name="flashcard-mode"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    flashcardMode = e.target.value;
                    if (flashcardMode === 'random') {
                        recentlyFlashcardIndices = [];
                        currentFlashcardIndex = getRandomFlashcardIndex();
                    } else {
                        currentFlashcardIndex = 0;
                    }
                    showFlashcard();
                });
            });
            
            // Event listeners for overview sort toggle
            document.querySelectorAll('input[name="overview-sort"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    overviewSortMode = e.target.value;
                    updateVocabulary();
                });
            });
            
            // Settings panel event listeners
            if (settingsIcon && settingsOverlay && closeSettings) {
                settingsIcon.addEventListener('click', toggleSettings);
                closeSettings.addEventListener('click', closeSettingsPanel);
                settingsOverlay.addEventListener('click', closeSettingsPanel);
            } else {
                console.error('Settings elements are missing:', { settingsIcon, settingsOverlay, closeSettings });
            }
            
            // Calculate scrollbar width
            const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;
            document.documentElement.style.setProperty('--scrollbar-width', `${scrollbarWidth}px`);
        }
        
        function toggleSettings() {
            if (settingsOverlay && settingsPanel) {
                settingsOverlay.classList.toggle('active');
                settingsPanel.classList.toggle('active');
            } else {
                console.error('Cannot toggle settings: overlay or panel is null');
            }
        }
        
        function closeSettingsPanel() {
            if (settingsOverlay && settingsPanel) {
                settingsOverlay.classList.remove('active');
                settingsPanel.classList.remove('active');
            } else {
                console.error('Cannot close settings: overlay or panel is null');
            }
        }
        
        function populateTopicsList() {
            if (!topicsList) {
                console.error('Topics list element is null');
                return;
            }
            topicsList.innerHTML = '';
            Object.keys(vocabularyData).forEach(topic => {
                const topicItem = document.createElement('div');
                topicItem.className = 'flex items-center';
                const checkboxId = `topic-${topic.replace(/\s+/g, '-')}`;
                topicItem.innerHTML = `
                    <input type="checkbox" id="${checkboxId}" class="mr-2" ${activeTopics[topic] ? 'checked' : ''}>
                    <label for="${checkboxId}" class="cursor-pointer">${topic}</label>
                `;
                
                const checkbox = topicItem.querySelector('input');
                checkbox.addEventListener('change', () => {
                    activeTopics[topic] = checkbox.checked;
                    updateVocabulary();
                });
                
                topicsList.appendChild(topicItem);
            });
        }
        
        function updateVocabulary() {
            currentVocabulary = [];
            Object.keys(vocabularyData).forEach(topic => {
                if (activeTopics[topic]) {
                    currentVocabulary = currentVocabulary.concat(vocabularyData[topic]);
                }
            });
            
            // Sort based on overviewSortMode
            if (overviewSortMode === 'english') {
                currentVocabulary.sort((a, b) => a.word.localeCompare(b.word));
            } else {
                currentVocabulary.sort((a, b) => a.translation.localeCompare(b.translation));
            }
            
            populateOverview();
            setupFlashcards();
            setupTest();
        }
        
        function preloadImages() {
            return new Promise((resolve) => {
                let loaded = 0;
                let total = 0;
                
                Object.values(vocabularyData).forEach(topic => {
                    total += topic.length;
                });
                
                Object.values(vocabularyData).forEach(topic => {
                    topic.forEach(item => {
                        const img = new Image();
                        img.src = item.image;
                        img.onload = () => {
                            loaded++;
                            if (loaded === total) resolve();
                        };
                        img.onerror = () => {
                            loaded++;
                            if (loaded === total) resolve();
                        };
                    });
                });
            });
        }
        
        function populateOverview() {
            if (!overviewSection) {
                console.error('Overview section element is null');
                return;
            }
            overviewSection.innerHTML = '';
            
            if (currentVocabulary.length === 0) {
                overviewSection.innerHTML = `
                    <div class="mb-4">
                        <label class="inline-flex items-center mr-4">
                            <input type="radio" name="overview-sort" value="english" ${overviewSortMode === 'english' ? 'checked' : ''} class="mr-2">
                            <span>Sort by English</span>
                        </label>
                        <label class="inline-flex items-center">
                            <input type="radio" name="overview-sort" value="ulgarienef" ${overviewSortMode === 'ulgarienef' ? 'checked' : ''} class="mr-2">
                            <span>Sort by Ulgarienef</span>
                        </label>
                    </div>
                    <p class="text-center text-gray-500">No topics selected. Please enable some topics in settings.</p>
                `;
                return;
            }
            
            overviewSection.innerHTML = `
                <div class="mb-4">
                    <label class="inline-flex items-center mr-4">
                        <input type="radio" name="overview-sort" value="english" ${overviewSortMode === 'english' ? 'checked' : ''} class="mr-2">
                        <span>Sort by English</span>
                    </label>
                    <label class="inline-flex items-center">
                        <input type="radio" name="overview-sort" value="ulgarienef" ${overviewSortMode === 'ulgarienef' ? 'checked' : ''} class="mr-2">
                        <span>Sort by Ulgarienef</span>
                    </label>
                </div>
            `;
            
            currentVocabulary.forEach(item => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-lg shadow-md overflow-hidden transform transition hover:scale-105 min-h-[140px] flex flex-col items-center p-5';
                card.innerHTML = `
                    <div class="flex w-full items-center">
                        <div class="flex flex-col items-center">
                            <img src="${item.image}" alt="${item.word}" class="w-20 h-20 object-cover rounded mb-2">
                            <h3 class="text-lg font-semibold text-gray-800">${item.word}</h3>
                        </div>
                        <div class="flex-1 flex flex-col items-end">
                            <h2 class="text-xl font-semibold text-gray-800 mb-1">${item.translation}</h2>
                        </div>
                    </div>
                `;
                overviewSection.appendChild(card);
            });
            
            // Re-attach event listeners for sort toggle
            document.querySelectorAll('input[name="overview-sort"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    overviewSortMode = e.target.value;
                    updateVocabulary();
                });
            });
        }
        
        function setupFlashcards() {
            if (!flashcardsSection) {
                console.error('Flashcards section element is null');
                return;
            }
            if (currentVocabulary.length === 0) {
                flashcardsSection.innerHTML = '<p class="text-center text-gray-500">No topics selected. Please enable some topics in settings.</p>';
                return;
            }
            
            if (flashcardMode === 'random') {
                currentFlashcardIndex = getRandomFlashcardIndex();
            } else {
                currentFlashcardIndex = 0;
            }
            showFlashcard();
            
            if (flashcardContainer && nextFlashcardBtn) {
                flashcardContainer.addEventListener('click', flipFlashcard);
                nextFlashcardBtn.addEventListener('click', nextFlashcard);
            } else {
                console.error('Flashcard elements are missing:', { flashcardContainer, nextFlashcardBtn });
            }
        }
        
        function showFlashcard() {
            if (!flashcardImage || !flashcardWord || !flashcardTranslation || !flashcardContainer) {
                console.error('Flashcard DOM elements are missing:', { flashcardImage, flashcardWord, flashcardTranslation, flashcardContainer });
                return;
            }
            const item = currentVocabulary[currentFlashcardIndex];
            flashcardImage.src = item.image;
            flashcardWord.innerHTML = item.word;
            flashcardTranslation.textContent = item.translation;
            flashcardContainer.classList.remove('flipped');
        }
        
        function flipFlashcard() {
            if (flashcardContainer) {
                flashcardContainer.classList.toggle('flipped');
            } else {
                console.error('Cannot flip flashcard: container is null');
            }
        }
        
        function getRandomFlashcardIndex() {
            if (currentVocabulary.length === 0) return 0;
            
            const allIndices = currentVocabulary.map((_, index) => index);
            const availableIndices = allIndices.filter(index => !recentlyFlashcardIndices.includes(index));
            
            if (availableIndices.length === 0) {
                recentlyFlashcardIndices = [];
                return Math.floor(Math.random() * currentVocabulary.length);
            }
            
            const randomIndex = availableIndices[Math.floor(Math.random() * availableIndices.length)];
            recentlyFlashcardIndices.push(randomIndex);
            
            if (recentlyFlashcardIndices.length > 10) {
                recentlyFlashcardIndices.shift();
            }
            
            return randomIndex;
        }
        
        function nextFlashcard(event) {
            event.stopPropagation();
            if (!flashcardContainer) {
                console.error('Flashcard container is null');
                return;
            }
            const flashcardInner = flashcardContainer.querySelector('.flashcard-inner');
            if (!flashcardInner) {
                console.error('Flashcard inner element is null');
                return;
            }
            flashcardInner.style.transition = 'none';
            flashcardContainer.classList.remove('flipped');
            
            if (currentVocabulary.length === 0) return;
            
            if (flashcardMode === 'random') {
                currentFlashcardIndex = getRandomFlashcardIndex();
            } else {
                currentFlashcardIndex = (currentFlashcardIndex + 1) % currentVocabulary.length;
            }
            
            showFlashcard();
            
            void flashcardInner.offsetWidth;
            setTimeout(() => {
                flashcardInner.style.transition = 'transform 0.6s';
            }, 50);
        }
        
        function setupTest() {
            if (!testSection) {
                console.error('Test section element is null');
                return;
            }
            if (currentVocabulary.length === 0) {
                testSection.innerHTML = '<p class="text-center text-gray-500">No topics selected. Please enable some topics in settings.</p>';
                return;
            }
            
            recentlyTestedIndices = [];
            currentTestIndex = getRandomTestIndex();
            isCheckingAnswer = false;
            
            // Clear previous event listeners
            if (testSubmit) testSubmit.onclick = null;
            if (skipTestBtn) skipTestBtn.onclick = null;
            if (testInput) testInput.onkeydown = null;
            
            // Set up new event listeners
            if (testSubmit && skipTestBtn && testInput) {
                testSubmit.addEventListener('click', handleAnswerCheck);
                skipTestBtn.addEventListener('click', skipQuestion);
                testInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        handleAnswerCheck();
                    }
                });
            } else {
                console.error('Test elements are missing:', { testSubmit, skipTestBtn, testInput });
            }
            
            showTestQuestion();
        }

        function getRandomTestIndex() {
            if (currentVocabulary.length === 0) return 0;
            
            const allIndices = currentVocabulary.map((_, index) => index);
            const availableIndices = allIndices.filter(index => !recentlyTestedIndices.includes(index));
            
            if (availableIndices.length === 0) {
                recentlyTestedIndices = [];
                return Math.floor(Math.random() * currentVocabulary.length);
            }
            
            const randomIndex = availableIndices[Math.floor(Math.random() * availableIndices.length)];
            recentlyTestedIndices.push(randomIndex);
            
            if (recentlyTestedIndices.length > 10) {
                recentlyTestedIndices.shift();
            }
            
            return randomIndex;
        }

        function showTestQuestion() {
            if (currentVocabulary.length === 0) return;
            
            if (!testImage || !testWord || !testInput || !testFeedback || !testProgress) {
                console.error('Test DOM elements are missing:', { testImage, testWord, testInput, testFeedback, testProgress });
                return;
            }
            
            const item = currentVocabulary[currentTestIndex];
            testImage.src = item.image;
            testWord.innerHTML = item.word.replace(/<br>/g, '<br>');
            testInput.value = '';
            testFeedback.textContent = '';
            testInput.focus();
            updateTestProgress();
        }

        function handleAnswerCheck() {
            if (isCheckingAnswer) return;
            isCheckingAnswer = true;
            
            if (!testInput || !testFeedback) {
                console.error('Test input or feedback elements are missing:', { testInput, testFeedback });
                isCheckingAnswer = false;
                return;
            }
            
            const userInput = testInput.value.trim().toLowerCase();
            const correctAnswers = currentVocabulary[currentTestIndex].testTranslations.map(t => t.toLowerCase());
            
            if (correctAnswers.includes(userInput)) {
                testFeedback.textContent = 'Correct!';
                testFeedback.className = 'text-lg mt-4 text-center text-green-600';
                
                setTimeout(() => {
                    currentTestIndex = getRandomTestIndex();
                    showTestQuestion();
                    isCheckingAnswer = false;
                }, 800);
            } else {
                testFeedback.textContent = `Incorrect. The correct answer is "${currentVocabulary[currentTestIndex].testTranslations.join(' / ')}".`;
                testFeedback.className = 'text-lg mt-4 text-center text-red-600';
                testInput.value = '';
                testInput.focus();
                isCheckingAnswer = false;
            }
        }

        function skipQuestion() {
            if (isCheckingAnswer) return;
            
            currentTestIndex = getRandomTestIndex();
            showTestQuestion();
        }

        function updateTestProgress() {
            if (!testProgress) {
                console.error('Test progress element is null');
                return;
            }
            if (currentVocabulary.length === 0) {
                testProgress.textContent = 'No words available';
            } else {
                testProgress.textContent = `${currentVocabulary.length} words in total`;
            }
        }
        
        function showSection(sectionId) {
            if (!overviewSection || !flashcardsSection || !testSection || !overviewTab || !flashcardsTab || !testTab) {
                console.error('One or more section/tab elements are null:', {
                    overviewSection, flashcardsSection, testSection, overviewTab, flashcardsTab, testTab
                });
                return;
            }
            
            overviewSection.classList.add('hidden');
            flashcardsSection.classList.add('hidden');
            testSection.classList.add('hidden');
            overviewTab.classList.remove('tab-active');
            flashcardsTab.classList.remove('tab-active');
            testTab.classList.remove('tab-active');
            
            const section = document.getElementById(sectionId);
            const tabIdMap = {
                'overview-section': 'overview-tab',
                'flashcards-section': 'flashcards-tab',
                'test-section': 'test-tab'
            };
            const tabId = tabIdMap[sectionId];
            const tab = document.getElementById(tabId);
            
            if (section && tab) {
                section.classList.remove('hidden');
                tab.classList.add('tab-active');
            } else {
                console.error(`Section or tab for ${sectionId} not found`, { section, tab });
            }
            
            if (sectionId === 'flashcards-section') {
                setupFlashcards();
            } else if (sectionId === 'test-section') {
                setupTest();
            } else if (sectionId === 'overview-section') {
                populateOverview();
            }
        }
        
        // Start the app
        window.onload = init;
    </script>
</body>
</html>
